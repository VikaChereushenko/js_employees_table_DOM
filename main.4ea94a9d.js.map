{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","theads","querySelectorAll","tbody","theadCellIndex","row","forEach","thead","index","addEventListener","e","tbodyChildren","target","cellIndex","sorted","sort","a","b","valueA","textContent","split","join","replaceAll","valueB","isNaN","parseFloat","localeCompare","innerHTML","el","append","reversedColumn","reverse","currentRow","parentNode","classList","add","remove","contains","cle","tagName","cellInput","createElement","initialValue","value","className","replaceWith","focus","kde","newTd","key","newValue","trim","form","formElements","name","position","office","age","salary","selectOptions","label","input","select","element","setAttribute","optionName","option","toLowerCase","type","btn","preventDefault","newTr","formData","FormData","inputsValues","isValid","get","length","pushNotification","slice","toUpperCase","Number","toLocaleString","style","currency","posTop","posRight","title","description","notification","notificationTitle","notificationDescription","top","right","zIndex","setTimeout"],"mappings":"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","file":"main.4ea94a9d.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write code here\nconst body = document.querySelector('body');\nconst theads = [...document.querySelectorAll('thead tr th')];\nconst tbody = document.querySelector('tbody');\n\nlet theadCellIndex = null;\nlet row = null;\n// let rowCellIndex = null;\n\ntheads.forEach((thead, index) => {\n  thead.addEventListener('click', (e) => {\n    const tbodyChildren = [...document.querySelectorAll('tbody tr')];\n\n    if (theadCellIndex !== e.target.cellIndex) {\n      theadCellIndex = e.target.cellIndex;\n\n      const sorted = tbodyChildren.sort((a, b) => {\n        const valueA = a\n          .querySelector(`*:nth-child(${index + 1})`)\n          .textContent.split(' ')\n          .join('')\n          .replaceAll('$', '');\n        const valueB = b\n          .querySelector(`*:nth-child(${index + 1})`)\n          .textContent.split(' ')\n          .join('')\n          .replaceAll('$', '');\n\n        if (!isNaN(parseFloat(valueA)) && !isNaN(parseFloat(valueB))) {\n          return parseFloat(valueA) - parseFloat(valueB);\n        }\n\n        return valueA.localeCompare(valueB);\n      });\n\n      tbody.innerHTML = '';\n      sorted.forEach((el) => tbody.append(el));\n    } else {\n      const reversedColumn = tbodyChildren.reverse();\n\n      tbody.innerHTML = '';\n      reversedColumn.forEach((el) => tbody.append(el));\n    }\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const tbodyChildren = [...document.querySelectorAll('tbody tr')];\n  const currentRow = e.target.parentNode;\n\n  if (row !== currentRow) {\n    currentRow.classList.add('active');\n    row = currentRow;\n  } else {\n    currentRow.classList.remove('active');\n  }\n\n  tbodyChildren.forEach((el) => {\n    if (!el.contains(e.target)) {\n      el.classList.remove('active');\n    }\n  });\n});\n\ntbody.addEventListener('dblclick', (cle) => {\n  if (cle.target.tagName === 'TD') {\n    const cellInput = document.createElement('input');\n    const initialValue = cle.target.textContent;\n\n    cellInput.value = initialValue;\n\n    cellInput.className = 'cell-input';\n\n    cle.target.replaceWith(cellInput);\n\n    cellInput.focus();\n\n    cellInput.addEventListener('keydown', (kde) => {\n      const newTd = document.createElement('td');\n\n      if (kde.key === 'Enter') {\n        const newValue = cellInput.value.trim();\n\n        if (newValue === '') {\n          newTd.textContent = initialValue;\n        } else {\n          newTd.textContent = newValue;\n        }\n\n        cellInput.replaceWith(newTd);\n      }\n    });\n\n    cellInput.addEventListener('blur', () => {\n      const newTd = document.createElement('td');\n      const newValue = cellInput.value.trim();\n\n      if (newValue === '') {\n        newTd.textContent = initialValue;\n      } else {\n        newTd.textContent = newValue;\n      }\n\n      cellInput.replaceWith(newTd);\n    });\n  }\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nbody.append(form);\n\nconst formElements = {\n  name: 'Name',\n  position: 'Position',\n  office: 'Office',\n  age: 'Age',\n  salary: 'Salary',\n};\n\nconst selectOptions = [\n  'Tokyo',\n  'Singapore',\n  'London',\n  'New York',\n  'Edinburgh',\n  'San Francisco',\n];\n\nfor (const element in formElements) {\n  const label = document.createElement('label');\n  const input = document.createElement('input');\n  const select = document.createElement('select');\n\n  label.textContent = `${formElements[element]}:`;\n  input.name = element;\n  select.name = element;\n  input.setAttribute('data-qa', element);\n\n  if (element === 'office') {\n    select.setAttribute('data-qa', element);\n\n    selectOptions.forEach((optionName) => {\n      const option = document.createElement('option');\n\n      option.textContent = optionName;\n      option.setAttribute('value', optionName.toLowerCase());\n      select.append(option);\n    });\n\n    label.append(select);\n    form.append(label);\n  } else if (element === 'age' || element === 'salary') {\n    input.type = 'number';\n\n    label.append(input);\n    form.append(label);\n  } else {\n    label.append(input);\n    form.append(label);\n  }\n}\n\nconst btn = document.createElement('button');\n\nbtn.type = 'submit';\nbtn.textContent = 'Save to table';\n\nform.append(btn);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const newTr = document.createElement('tr');\n  const formData = new FormData(form);\n  const inputsValues = {};\n  let isValid = true;\n\n  inputsValues.name = formData.get('name').trim();\n  inputsValues.position = formData.get('position').trim();\n  inputsValues.office = formData.get('office');\n  inputsValues.age = formData.get('age');\n  inputsValues.salary = formData.get('salary');\n\n  if (!inputsValues.position || !inputsValues.office || !inputsValues.salary) {\n    isValid = false;\n\n    pushNotification(\n      10,\n      10,\n      'Error',\n      'Please make sure all fields are filled out',\n      'error',\n    );\n  } else if (inputsValues.name.length < 4) {\n    isValid = false;\n\n    pushNotification(\n      10,\n      10,\n      'Error',\n      'Please enter minimum 4 letters to \"Name:\"',\n      'error',\n    );\n  } else if (inputsValues.age < 18 || inputsValues.age > 90) {\n    isValid = false;\n\n    pushNotification(\n      10,\n      10,\n      'Error',\n      'Your age should be between 18 and 90',\n      'error',\n    );\n  } else if (\n    isNaN(parseFloat(inputsValues.salary)) ||\n    parseFloat(inputsValues.salary) <= 0\n  ) {\n    isValid = false;\n\n    pushNotification(\n      10,\n      10,\n      'Error',\n      'Salary has to be a positive number',\n      'error',\n    );\n  } else if (isValid) {\n    for (const input in inputsValues) {\n      const newTd = document.createElement('td');\n\n      if (input === 'salary') {\n        newTd.textContent = Number(inputsValues[input]).toLocaleString(\n          'en-US',\n          {\n            style: 'currency',\n            currency: 'USD',\n          },\n        );\n\n        newTr.append(newTd);\n        continue;\n      }\n\n      newTd.textContent =\n        inputsValues[input].slice(0, 1).toUpperCase() +\n        inputsValues[input].slice(1);\n      newTr.append(newTd);\n    }\n\n    tbody.append(newTr);\n\n    pushNotification(\n      10,\n      10,\n      'Success',\n      'Your data have been successfully attached',\n      'success',\n    );\n  }\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const notification = document.createElement('div');\n  const notificationTitle = document.createElement('h2');\n  const notificationDescription = document.createElement('p');\n\n  notification.className = 'notification ' + type;\n  notification.setAttribute('data-qa', 'notification');\n\n  notificationTitle.classList.add('title');\n  notificationDescription.classList.add('description');\n\n  notificationTitle.textContent = title;\n  notificationDescription.textContent = description;\n\n  notification.style.position = 'absolute';\n  notification.style.top = posTop + 'px';\n  notification.style.right = posRight + 'px';\n  notification.style.zIndex = 99;\n\n  notification.append(notificationTitle);\n  notification.append(notificationDescription);\n  body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n};\n"]}